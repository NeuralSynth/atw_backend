# ================================================================================
# ATW Backend Environment Configuration
# ================================================================================
# Copy this file to .env and update with your actual values
# CRITICAL: DO NOT commit .env to version control!

# ================================================================================
# DJANGO CORE SETTINGS
# ================================================================================

# Debug Mode (MUST be False in production!)
DEBUG=True

# Secret Key (Generate a new one for production: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())')
SECRET_KEY=django-insecure-CHANGE-THIS-IN-PRODUCTION-use-command-above-to-generate

# Allowed Hosts (comma-separated, no spaces)
# Development: localhost,127.0.0.1
# Production: yourdomain.com,api.yourdomain.com
ALLOWED_HOSTS=localhost,127.0.0.1

# ================================================================================
# DATABASE CONFIGURATION
# ================================================================================

# Primary Database (Required)
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://atw_user:your_password_here@localhost:5432/atw_db

# Read Replicas (Optional - for production scaling 10K+ users)
# Uncomment and configure for production with high read load
# DATABASE_REPLICA1_URL=postgresql://atw_user:your_password_here@replica1-host:5432/atw_db
# DATABASE_REPLICA2_URL=postgresql://atw_user:your_password_here@replica2-host:5432/atw_db

# ================================================================================
# REDIS CONFIGURATION (Required for WebSocket GPS Tracking)
# ================================================================================

# Redis URL for caching, sessions, and WebSocket channel layer
REDIS_URL=redis://localhost:6379/0

# Alternative: Redis with password
# REDIS_URL=redis://:your_redis_password@localhost:6379/0

# Alternative: Redis Cluster (production)
# REDIS_CLUSTER_NODES=redis-0:6379,redis-1:6379,redis-2:6379

# ================================================================================
# CELERY CONFIGURATION (Background Task Processing)
# ================================================================================

# Celery Broker (Message Queue)
CELERY_BROKER_URL=redis://localhost:6379/0

# Celery Result Backend (Task Results Storage)
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Alternative: RabbitMQ (more robust for production)
# CELERY_BROKER_URL=amqp://guest:guest@localhost:5672//
# CELERY_RESULT_BACKEND=rpc://

# ================================================================================
# CORS CONFIGURATION (Cross-Origin Resource Sharing)
# ================================================================================

# Allowed Origins (comma-separated, no spaces)
# Development: http://localhost:3000,http://localhost:8000
# Production: https://app.yourdomain.com,https://dashboard.yourdomain.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:4200

# ================================================================================
# EMAIL CONFIGURATION (Optional - for notifications)
# ================================================================================

# Email Backend
# Development: django.core.mail.backends.console.EmailBackend
# Production: django.core.mail.backends.smtp.EmailBackend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# SMTP Settings (Required for production email)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@example.com
EMAIL_HOST_PASSWORD=your-app-specific-password

# Email From Address
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
SERVER_EMAIL=server@yourdomain.com

# ================================================================================
# STATIC AND MEDIA FILES
# ================================================================================

# Static Files (CSS, JS, Images)
STATIC_URL=/static/
STATIC_ROOT=/var/www/atw/static/

# Media Files (User Uploads)
MEDIA_URL=/media/
MEDIA_ROOT=/var/www/atw/media/

# CDN Settings (Optional - for production)
# AWS_S3_BUCKET_NAME=your-s3-bucket
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_REGION_NAME=us-east-1

# ================================================================================
# SECURITY SETTINGS (Production Only)
# ================================================================================

# SSL/HTTPS Settings (Uncomment for production)
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True

# HTTP Strict Transport Security
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True

# Additional Security Headers
# SECURE_BROWSER_XSS_FILTER=True
# SECURE_CONTENT_TYPE_NOSNIFF=True
# X_FRAME_OPTIONS=DENY

# ================================================================================
# LOGGING CONFIGURATION
# ================================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log File Location
LOG_FILE=/var/log/atw/django.log

# ================================================================================
# APPLICATION-SPECIFIC SETTINGS
# ================================================================================

# GPS Tracking Settings
GPS_UPDATE_INTERVAL=5  # seconds
GPS_TRACKING_ENABLED=True

# Trip Settings
MAX_TRIP_DURATION=14400  # 4 hours in seconds
TRIP_TIMEOUT_CHECK_INTERVAL=300  # 5 minutes

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ================================================================================
# MONITORING & OBSERVABILITY (Optional)
# ================================================================================

# Sentry (Error Tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Prometheus Metrics
# PROMETHEUS_EXPORT_MIGRATIONS=False

# ================================================================================
# THIRD-PARTY INTEGRATIONS (Optional)
# ================================================================================

# Google Maps API (for GPS/routing)
# GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Twilio (for SMS notifications)
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# ================================================================================
# DEPLOYMENT ENVIRONMENT
# ================================================================================

# Environment Name (development, staging, production)
ENVIRONMENT=development

#  Cloud Provider (aws, gcp, azure, local)
CLOUD_PROVIDER=local

# ================================================================================
# NOTES
# ================================================================================
# 1. Never commit this file with real credentials
# 2. Generate a new SECRET_KEY for each environment
# 3. Use environment-specific values for each deployment
# 4. For Kubernetes: Use ConfigMaps for non-sensitive data, Secrets for passwords
# 5. For Docker: Pass via docker-compose environment or .env file
